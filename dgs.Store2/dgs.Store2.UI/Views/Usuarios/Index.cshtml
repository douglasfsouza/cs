@model IEnumerable<dgs.Store2.UI.ViewModels.UsuarioIndexVM>
@{
    ViewBag.Title = "Usuarios";
    ViewBag.SubTitle = "Aplicação criada em sala";
}



<div>
    <a href="/Usuarios/AddEdit" class="btn btn-outline-secondary">Adicionar</a>
    <a href="@Url.Action("AddEdit","Usuarios")" class="btn btn-outline-secondary">Adicionar</a>
    <a asp-action="AddEdit" asp-controller="Usuarios" class="btn btn-outline-secondary">Adicionar</a>
 </div>

<table class="table table-striped table-hover">
    <thead>
        <tr>
            <th>Id</th>
            <th>Nome</th> 
            <th>Perfis</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
        <tr id="item-@item.Id">
            <th>@item.Id</th>
            <td>@item.Nome</td>
            <td>@item.NomesPerfis</td>
            <td><a asp-action="AddEdit" asp-controller="Usuarios" asp-route-id="@item.Id" class="btn btn-outline-success btn-sm">Editar</a></td>

            <td><button class="btn btn-outline-danger btn-sm" onclick="excluir(@item.Id, '@item.Nome', 'da Usuario', '@Url.Action("Excluir","Usuarios")')">Excluir</button></td>
        </tr>

        }


    </tbody>
</table>
<div class="modal fade" id="excluirModal" tabindex="-1" aria-labelledby="excluirModal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="excluirModalLabel">Excluir</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>Confirma a exclusão <span id="modalBody-desc" class="badge bg-danger"></span> ?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-outline-danger" onclick="confirmarDel()">Confirmar</button>
            </div>
        </div>
    </div>
</div>

<div class="toast align-items-right text-white bg-primary border-0" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="d-flex">
        <div class="toast-body">
            Usuario excluido com sucesso
        </div>
        <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
</div>


@section scripts{
    <script src="~/js/Del-Modal.js"></script>
}
